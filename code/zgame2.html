<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Frog Tools Page</title>
  <link rel="stylesheet" href="C:\Users\Administrator\Desktop\Programming Projects\Frog_Website\css\zgamefront2.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <!-- Back button -->
  <a href="C:\Users\Administrator\Desktop\Programming Projects\Frog_Website\code\selection.html" class="back-btn">
    <span class="arrow"></span>
  </a>

  <!-- Drawing canvas -->
  <canvas id="drawCanvas"></canvas>

  <!-- Tool buttons -->
  <div class="toolbox">
    <button id="penBtn" class="tool-btn"><i class="fas fa-pen"></i></button>
    <button id="eraserBtn" class="tool-btn"><i class="fas fa-eraser"></i></button>
    <button id="undoBtn" class="tool-btn"><i class="fas fa-undo"></i></button>
    <button id="redoBtn" class="tool-btn"><i class="fas fa-redo"></i></button>
  </div>

  <script>
    const canvas = document.getElementById("drawCanvas");
    const ctx = canvas.getContext("2d");

    // Resize canvas to box size
    canvas.width = canvas.clientWidth;
    canvas.height = canvas.clientHeight;

    let drawing = false;
    let tool = "pen"; // default tool
    let drawColor = "black";
    let drawSize = 3;
    let undoStack = [];
    let redoStack = [];

    function startDraw(e) {
      drawing = true;
      ctx.beginPath();
      ctx.moveTo(getX(e), getY(e));
    }

    function draw(e) {
      if (!drawing) return;
      if (tool === "eraser") {
        ctx.strokeStyle = "white";
        ctx.lineWidth = 10;
      } else {
        ctx.strokeStyle = drawColor;
        ctx.lineWidth = drawSize;
      }
      ctx.lineCap = "round";
      ctx.lineJoin = "round";
      ctx.lineTo(getX(e), getY(e));
      ctx.stroke();
    }

    function stopDraw() {
      if (drawing) {
        drawing = false;
        ctx.closePath();
        // Save state for undo
        undoStack.push(ctx.getImageData(0,0,canvas.width,canvas.height));
      }
    }

    function getX(e) { return e.clientX - canvas.getBoundingClientRect().left; }
    function getY(e) { return e.clientY - canvas.getBoundingClientRect().top; }

    // Mouse events
    canvas.addEventListener("mousedown", startDraw);
    canvas.addEventListener("mousemove", draw);
    canvas.addEventListener("mouseup", stopDraw);
    canvas.addEventListener("mouseout", stopDraw);

    // Touch events
    canvas.addEventListener("touchstart", (e)=>startDraw(e.touches[0]));
    canvas.addEventListener("touchmove", (e)=>{
      e.preventDefault();
      draw(e.touches[0]);
    });
    canvas.addEventListener("touchend", stopDraw);

    // Tool buttons
    document.getElementById("penBtn").addEventListener("click", ()=>tool="pen");
    document.getElementById("eraserBtn").addEventListener("click", ()=>tool="eraser");

    // Undo & redo
    document.getElementById("undoBtn").addEventListener("click", ()=>{
      if(undoStack.length>0){
        redoStack.push(ctx.getImageData(0,0,canvas.width,canvas.height));
        const imgData = undoStack.pop();
        ctx.putImageData(imgData,0,0);
      }
    });

    document.getElementById("redoBtn").addEventListener("click", ()=>{
      if(redoStack.length>0){
        undoStack.push(ctx.getImageData(0,0,canvas.width,canvas.height));
        const imgData = redoStack.pop();
        ctx.putImageData(imgData,0,0);
      }
    });
  </script>
</body>
</html>
